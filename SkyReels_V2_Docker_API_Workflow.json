{
  "name": "SkyReels V2 Docker API - 720Pé•¿è§†é¢‘ç”Ÿæˆ",
  "nodes": [
    {
      "parameters": {
        "values": {
          "string": [
            {
              "name": "skyreelsEndpoint",
              "value": "https://your-runpod-instance.runpod.net:8000"
            },
            {
              "name": "storyPrompt", 
              "value": "A mystical underwater world with bioluminescent creatures, coral reefs glowing in deep blue water, schools of colorful fish swimming gracefully, sunlight filtering through water, cinematic 720p quality"
            },
            {
              "name": "videoDuration",
              "value": "120"
            },
            {
              "name": "videoResolution",
              "value": "720p"
            },
            {
              "name": "maxRetries",
              "value": "10"
            },
            {
              "name": "checkInterval",
              "value": "30"
            }
          ]
        }
      },
      "id": "config-node",
      "name": "ğŸ¬ SkyReels V2 é…ç½®",
      "type": "n8n-nodes-base.set",
      "position": [300, 400],
      "typeVersion": 3.3
    },
    {
      "parameters": {},
      "id": "manual-trigger",
      "name": "ğŸš€ æ‰‹åŠ¨è§¦å‘",
      "type": "n8n-nodes-base.manualTrigger",
      "position": [100, 400],
      "typeVersion": 1
    },
    {
      "parameters": {
        "url": "={{ $('ğŸ¬ SkyReels V2 é…ç½®').item.json.skyreelsEndpoint }}/health",
        "options": {
          "timeout": 10000
        }
      },
      "id": "health-check",
      "name": "ğŸ” å¥åº·æ£€æŸ¥",
      "type": "n8n-nodes-base.httpRequest",
      "position": [500, 300],
      "typeVersion": 4.2
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $('ğŸ¬ SkyReels V2 é…ç½®').item.json.skyreelsEndpoint }}/generate",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"prompt\": \"{{ $('ğŸ¬ SkyReels V2 é…ç½®').item.json.storyPrompt }}\",\n  \"duration\": {{ $('ğŸ¬ SkyReels V2 é…ç½®').item.json.videoDuration }},\n  \"resolution\": \"{{ $('ğŸ¬ SkyReels V2 é…ç½®').item.json.videoResolution }}\",\n  \"fps\": 30\n}",
        "options": {
          "timeout": 30000
        }
      },
      "id": "start-generation",
      "name": "ğŸ¥ å¼€å§‹ç”Ÿæˆè§†é¢‘",
      "type": "n8n-nodes-base.httpRequest",
      "position": [500, 400],
      "typeVersion": 4.2
    },
    {
      "parameters": {
        "amount": "={{ $('ğŸ¬ SkyReels V2 é…ç½®').item.json.checkInterval }}",
        "unit": "seconds"
      },
      "id": "wait-before-check",
      "name": "â±ï¸ ç­‰å¾…æ£€æŸ¥é—´éš”",
      "type": "n8n-nodes-base.wait",
      "position": [700, 400],
      "typeVersion": 1.1
    },
    {
      "parameters": {
        "url": "={{ $('ğŸ¬ SkyReels V2 é…ç½®').item.json.skyreelsEndpoint }}/status/{{ $('ğŸ¥ å¼€å§‹ç”Ÿæˆè§†é¢‘').item.json.task_id }}",
        "options": {
          "timeout": 10000
        }
      },
      "id": "check-status",
      "name": "ğŸ“Š æ£€æŸ¥çŠ¶æ€",
      "type": "n8n-nodes-base.httpRequest",
      "position": [900, 400],
      "typeVersion": 4.2
    },
    {
      "parameters": {
        "conditions": {
          "conditions": [
            {
              "leftValue": "={{ $json.status }}",
              "rightValue": "completed",
              "operator": {
                "type": "string",
                "operation": "equals"
              }
            }
          ]
        }
      },
      "id": "if-completed",
      "name": "âœ… å®Œæˆäº†å—ï¼Ÿ",
      "type": "n8n-nodes-base.if",
      "position": [1100, 400],
      "typeVersion": 2
    },
    {
      "parameters": {
        "url": "={{ $('ğŸ¬ SkyReels V2 é…ç½®').item.json.skyreelsEndpoint }}/download/{{ $('ğŸ¥ å¼€å§‹ç”Ÿæˆè§†é¢‘').item.json.task_id }}",
        "options": {
          "timeout": 60000,
          "response": {
            "response": {
              "responseFormat": "file"
            }
          }
        }
      },
      "id": "download-video",
      "name": "ğŸ“¥ ä¸‹è½½è§†é¢‘",
      "type": "n8n-nodes-base.httpRequest", 
      "position": [1300, 300],
      "typeVersion": 4.2
    },
    {
      "parameters": {
        "conditions": {
          "conditions": [
            {
              "leftValue": "={{ $json.status }}",
              "rightValue": "failed",
              "operator": {
                "type": "string",
                "operation": "equals"
              }
            }
          ]
        }
      },
      "id": "if-failed",
      "name": "âŒ å¤±è´¥äº†å—ï¼Ÿ",
      "type": "n8n-nodes-base.if",
      "position": [1100, 500],
      "typeVersion": 2
    },
    {
      "parameters": {
        "message": "âŒ SkyReels V2 è§†é¢‘ç”Ÿæˆå¤±è´¥",
        "additionalFields": {
          "details": "=é”™è¯¯è¯¦æƒ…: {{ $json.error || 'æœªçŸ¥é”™è¯¯' }}\nä»»åŠ¡ID: {{ $('ğŸ¥ å¼€å§‹ç”Ÿæˆè§†é¢‘').item.json.task_id }}\næç¤ºè¯: {{ $('ğŸ¬ SkyReels V2 é…ç½®').item.json.storyPrompt }}"
        }
      },
      "id": "error-notification",
      "name": "ğŸ“§ é”™è¯¯é€šçŸ¥",
      "type": "n8n-nodes-base.slack",
      "position": [1300, 600],
      "typeVersion": 2.1
    },
    {
      "parameters": {
        "jsCode": "const maxRetries = parseInt($('ğŸ¬ SkyReels V2 é…ç½®').item.json.maxRetries);\nconst currentRetry = $input.all()[0].json.retry_count || 0;\n\nif (currentRetry >= maxRetries) {\n  throw new Error(`è¾¾åˆ°æœ€å¤§é‡è¯•æ¬¡æ•° ${maxRetries}`);\n}\n\nreturn {\n  json: {\n    retry_count: currentRetry + 1,\n    message: `é‡è¯•ç¬¬ ${currentRetry + 1} æ¬¡ï¼Œæœ€å¤§ ${maxRetries} æ¬¡`\n  }\n};"
      },
      "id": "retry-logic",
      "name": "ğŸ”„ é‡è¯•é€»è¾‘",
      "type": "n8n-nodes-base.code",
      "position": [1100, 600],
      "typeVersion": 2
    },
    {
      "parameters": {
        "message": "ğŸ‰ SkyReels V2 è§†é¢‘ç”Ÿæˆå®Œæˆï¼",
        "additionalFields": {
          "details": "=âœ… è§†é¢‘ç”ŸæˆæˆåŠŸå®Œæˆ\n\nğŸ“‹ **ç”Ÿæˆè¯¦æƒ…:**\nâ€¢ ä»»åŠ¡ID: {{ $('ğŸ¥ å¼€å§‹ç”Ÿæˆè§†é¢‘').item.json.task_id }}\nâ€¢ æ—¶é•¿: {{ $('ğŸ¬ SkyReels V2 é…ç½®').item.json.videoDuration }}ç§’\nâ€¢ åˆ†è¾¨ç‡: {{ $('ğŸ¬ SkyReels V2 é…ç½®').item.json.videoResolution }}\nâ€¢ æç¤ºè¯: {{ $('ğŸ¬ SkyReels V2 é…ç½®').item.json.storyPrompt }}\n\nğŸ¬ **å¤„ç†ä¿¡æ¯:**\nâ€¢ æœ€ç»ˆçŠ¶æ€: {{ $('ğŸ“Š æ£€æŸ¥çŠ¶æ€').item.json.status }}\nâ€¢ å¤„ç†è¿›åº¦: {{ ($('ğŸ“Š æ£€æŸ¥çŠ¶æ€').item.json.progress * 100).toFixed(1) }}%\n\nğŸ“¥ è§†é¢‘å·²å‡†å¤‡å¥½ä¸‹è½½ï¼"
        }
      },
      "id": "success-notification", 
      "name": "ğŸ“§ æˆåŠŸé€šçŸ¥",
      "type": "n8n-nodes-base.slack",
      "position": [1500, 300],
      "typeVersion": 2.1
    },
    {
      "parameters": {
        "content": "## ğŸ¯ SkyReels V2 Docker API å·¥ä½œæµ\n\n### âœ… æ”¯æŒåŠŸèƒ½:\n- 720Pé«˜è´¨é‡è§†é¢‘è¾“å‡º\n- æœ€é•¿720ç§’(12åˆ†é’Ÿ)è§†é¢‘\n- å¼‚æ­¥å¤„ç†ä¸çŠ¶æ€ç›‘æ§\n- è‡ªåŠ¨é‡è¯•æœºåˆ¶\n- æˆåŠŸ/å¤±è´¥é€šçŸ¥\n\n### ğŸ”§ é…ç½®å‚æ•°:\n- **skyreelsEndpoint**: Docker APIåœ°å€\n- **storyPrompt**: è§†é¢‘ç”Ÿæˆæç¤ºè¯\n- **videoDuration**: è§†é¢‘æ—¶é•¿(ç§’)\n- **videoResolution**: åˆ†è¾¨ç‡(720p)\n- **maxRetries**: æœ€å¤§é‡è¯•æ¬¡æ•°\n- **checkInterval**: çŠ¶æ€æ£€æŸ¥é—´éš”\n\n### ğŸ“Š APIç«¯ç‚¹:\n- `/health` - å¥åº·æ£€æŸ¥\n- `/generate` - å¼€å§‹ç”Ÿæˆ\n- `/status/{id}` - çŠ¶æ€æŸ¥è¯¢\n- `/download/{id}` - ä¸‹è½½è§†é¢‘",
        "height": 400,
        "width": 300,
        "color": 4
      },
      "id": "workflow-info",
      "name": "ğŸ“ å·¥ä½œæµè¯´æ˜",
      "type": "n8n-nodes-base.stickyNote", 
      "position": [100, 80],
      "typeVersion": 1
    }
  ],
  "connections": {
    "ğŸš€ æ‰‹åŠ¨è§¦å‘": {
      "main": [
        [
          {
            "node": "ğŸ¬ SkyReels V2 é…ç½®",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ¬ SkyReels V2 é…ç½®": {
      "main": [
        [
          {
            "node": "ğŸ” å¥åº·æ£€æŸ¥",
            "type": "main", 
            "index": 0
          },
          {
            "node": "ğŸ¥ å¼€å§‹ç”Ÿæˆè§†é¢‘",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ¥ å¼€å§‹ç”Ÿæˆè§†é¢‘": {
      "main": [
        [
          {
            "node": "â±ï¸ ç­‰å¾…æ£€æŸ¥é—´éš”",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "â±ï¸ ç­‰å¾…æ£€æŸ¥é—´éš”": {
      "main": [
        [
          {
            "node": "ğŸ“Š æ£€æŸ¥çŠ¶æ€",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ“Š æ£€æŸ¥çŠ¶æ€": {
      "main": [
        [
          {
            "node": "âœ… å®Œæˆäº†å—ï¼Ÿ",
            "type": "main",
            "index": 0
          },
          {
            "node": "âŒ å¤±è´¥äº†å—ï¼Ÿ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "âœ… å®Œæˆäº†å—ï¼Ÿ": {
      "main": [
        [
          {
            "node": "ğŸ“¥ ä¸‹è½½è§†é¢‘",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "ğŸ”„ é‡è¯•é€»è¾‘",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "âŒ å¤±è´¥äº†å—ï¼Ÿ": {
      "main": [
        [
          {
            "node": "ğŸ“§ é”™è¯¯é€šçŸ¥",
            "type": "main",
            "index": 0
          }
        ],
        []
      ]
    },
    "ğŸ“¥ ä¸‹è½½è§†é¢‘": {
      "main": [
        [
          {
            "node": "ğŸ“§ æˆåŠŸé€šçŸ¥", 
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ”„ é‡è¯•é€»è¾‘": {
      "main": [
        [
          {
            "node": "â±ï¸ ç­‰å¾…æ£€æŸ¥é—´éš”",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "pinData": {},
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": {},
  "tags": ["SkyReels", "Video Generation", "AI", "Docker"],
  "triggerCount": 1,
  "updatedAt": "2025-06-02T08:30:00.000Z",
  "versionId": "2.0"
} 